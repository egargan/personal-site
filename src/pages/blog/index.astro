---
import Base from "$layouts/Base.astro";
import PostListItem from "$lib/components/PostListItem.astro";
import notion from "$context/notion";
import Nav from "$lib/components/nav/Nav.astro";

const posts = await notion.getPostList();
---

<Base title="Ed Gargan's Blog" description="Blog posts written by Ed Gargan">
  <main class="h-full w-full px-5 sm:px-8 container:w-[840px]">
    <Nav />
    <section class="mt-14 pb-20 md:mt-20">
      <ul class="list-outside px-0">
        <!--TODO: add fly-in from bottom -->
        {
          posts.map((post) => (
            <li>
              <PostListItem {post} />
            </li>
          ))
        }
      </ul>
    </section>
  </main>
</Base>
