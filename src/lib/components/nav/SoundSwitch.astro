---
const { width } = {
  width: "20px",
  ...Astro.props,
} as {
  class?: string;
  width: string;
};

const color = "var(--text)";
const strokeWidth = "2";
---

<button id="sound-switch-off" aria-label="Switch sound effects off">
  <svg
    width={width}
    height={width}
    stroke-width={strokeWidth}
    viewBox="0 0 24 24"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
    color={color}
  >
    <path
      d="M1 13.8571V10.1429C1 9.03829 1.89543 8.14286 3 8.14286H5.9C6.09569 8.14286 6.28708 8.08544 6.45046 7.97772L12.4495 4.02228C13.1144 3.5839 14 4.06075 14 4.85714V19.1429C14 19.9392 13.1144 20.4161 12.4495 19.9777L6.45046 16.0223C6.28708 15.9146 6.09569 15.8571 5.9 15.8571H3C1.89543 15.8571 1 14.9617 1 13.8571Z"
      stroke={color}
      stroke-width={strokeWidth}
    >
    </path>
    <path
      d="M17.5 7.5C17.5 7.5 19 9 19 11.5C19 14 17.5 15.5 17.5 15.5"
      stroke={color}
      stroke-width={strokeWidth}
      stroke-linecap="round"
      stroke-linejoin="round"
    >
    </path>
    <path
      d="M20.5 4.5C20.5 4.5 23 7 23 11.5C23 16 20.5 18.5 20.5 18.5"
      stroke={color}
      stroke-width={strokeWidth}
      stroke-linecap="round"
      stroke-linejoin="round"
    >
    </path>
  </svg>
</button>

<button id="sound-switch-on" aria-label="Switch sound effects on">
  <svg
    width={width}
    height={width}
    stroke-width={strokeWidth}
    viewBox="0 0 24 24"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
    color={color}
  >
    <path
      d="M18 14L20.0005 12M22 10L20.0005 12M20.0005 12L18 10M20.0005 12L22 14"
      stroke={color}
      stroke-width={strokeWidth}
      stroke-linecap="round"
      stroke-linejoin="round"
    >
    </path>
    <path
      d="M2 13.8571V10.1429C2 9.03829 2.89543 8.14286 4 8.14286H6.9C7.09569 8.14286 7.28708 8.08544 7.45046 7.97772L13.4495 4.02228C14.1144 3.5839 15 4.06075 15 4.85714V19.1429C15 19.9392 14.1144 20.4161 13.4495 19.9777L7.45046 16.0223C7.28708 15.9146 7.09569 15.8571 6.9 15.8571H4C2.89543 15.8571 2 14.9617 2 13.8571Z"
      stroke={color}
      stroke-width={strokeWidth}
    >
    </path>
  </svg>
</button>

<style define:vars={{ width }}>
  button {
    width: var(--width);
    height: var(--width);

    padding: 0;

    background-color: transparent;
    border: none;
    cursor: pointer;
  }

  html[data-sound="off"] #sound-switch-off,
  html:not([data-sound]) #sound-switch-off {
    display: none;
  }

  html[data-sound="off"] #sound-switch-on,
  html:not([data-sound]) #sound-switch-on {
    display: block;
  }

  html[data-sound="on"] #sound-switch-off {
    display: block;
  }

  html[data-sound="on"] #sound-switch-on {
    display: none;
  }
</style>

<script>
  document.getElementById("sound-switch-on")?.addEventListener("click", () => {
    document.documentElement.setAttribute("data-sound", "on");
  });

  document.getElementById("sound-switch-off")?.addEventListener("click", () => {
    document.documentElement.setAttribute("data-sound", "off");
  });
</script>
